{"file":"index-B_5pL6RW.js","mappings":";;;;;;;;;;;;;;;;;AA8Ee,cAAA;AAUf,UAAM,WAAW,IAAI;AAAA,MACnB,QAAQ;AAAA,MACR,UAAU;AAAA,IAAA,CACX;AAED,UAAM,YAAY,IAAI,KAAK;AAC3B,UAAM,eAAe,IAAI,EAAE;;mBA7FpBA,eAAAC,WAAA,EAAA,OAAM,kBAAA,GAAiB,MAAA,CAAA,mOAUTC,cAAA,SAAAC,MAAA,QAAA,EAAS,MAAM,2LAWfD,cAAA,SAAAC,MAAA,QAAA,EAAS,QAAQ;UAMnBA,MAAA,YAAA,GAAY;2EAClBA,MAAA,YAAA,CAAY,CAAA,QAAA;AAAA;;;4EAGkCA,MAAA,SAAA,CAAS,IAAA,cAAA,qCACvDA,MAAA,SAAA,IAAS,aAAA,KAAA;;;;;;;;;;;","names":["_ssrRenderAttrs","_mergeProps","_ssrRenderAttr","_unref"],"sources":["../../../../pages/index.vue"],"sourcesContent":["<template>\r\n  <div class=\"login-container\">\r\n    <div class=\"login-box\">\r\n      <h1>로그인</h1>\r\n      \r\n      <form @submit.prevent=\"handleLogin\">\r\n        <div class=\"form-group\">\r\n          <label for=\"userid\">아이디</label>\r\n          <input \r\n            type=\"text\" \r\n            id=\"userid\" \r\n            v-model=\"formData.userid\"\r\n            placeholder=\"아이디를 입력하세요\"\r\n            required\r\n          />\r\n        </div>\r\n        \r\n        <div class=\"form-group\">\r\n          <label for=\"password\">비밀번호</label>\r\n          <input \r\n            type=\"password\" \r\n            id=\"password\" \r\n            v-model=\"formData.password\"\r\n            placeholder=\"비밀번호를 입력하세요\"\r\n            required\r\n          />\r\n        </div>\r\n        \r\n        <div v-if=\"errorMessage\" class=\"error-message\">\r\n          {{ errorMessage }}\r\n        </div>\r\n        \r\n        <button type=\"submit\" class=\"login-btn\" :disabled=\"isLoading\">\r\n          {{ isLoading ? '로그인 중...' : '로그인' }}\r\n        </button>\r\n      </form>\r\n\r\n      <div class=\"social-login\">\r\n      <div class=\"divider\">\r\n        <span>또는</span>\r\n      </div>\r\n      \r\n      <button class=\"google-btn\" @click=\"loginWithGoogle\">\r\n        <img src=\"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg\" alt=\"Google\" />\r\n        Google 계정으로 로그인\r\n      </button>\r\n\r\n      <button class=\"kakao-btn-only\" @click=\"loginWithKakao\">\r\n        <img src=\"https://k.kakaocdn.net/14/dn/btroDszwNrM/I6efHub1SN5KCJqLm1Ovx1/o.jpg\" alt=\"Kakao 로그인\" />\r\n      </button>\r\n      </div>\r\n      \r\n      <div class=\"register-link\">\r\n        <p>아직 회원이 아니신가요?</p>\r\n        <button @click=\"goToRegister\" class=\"register-btn\">\r\n          회원가입\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\n\r\nconst loginWithGoogle = () => {\r\n  window.location.href = '/api/auth/google';\r\n};\r\n\r\nconst loginWithKakao = () => {\r\n  window.location.href = '/api/auth/kakao';\r\n};\r\n\r\ndefinePageMeta({\r\n  layout: false,\r\n  //middleware: 'auth'  // 미들웨어 적용\r\n});\r\n\r\n\r\nconst router = useRouter();\r\n\r\n// 이미 로그인되어 있으면 게시판으로 리다이렉트\r\nonMounted(() => {\r\n  const token = useCookie('auth_token');\r\n  if (token.value) {\r\n    router.push('/board/list');\r\n  }\r\n});\r\n\r\nconst formData = ref({\r\n  userid: '',\r\n  password: ''\r\n});\r\n\r\nconst isLoading = ref(false);\r\nconst errorMessage = ref('');\r\n\r\nconst handleLogin = async () => {\r\n  if (isLoading.value) return;\r\n  \r\n  isLoading.value = true;\r\n  errorMessage.value = '';\r\n  \r\n  try {\r\n    const response = await $fetch('/api/auth/login', {\r\n      method: 'POST',\r\n      body: formData.value\r\n    });\r\n    \r\n    if (response.success) {\r\n      router.push('/board/list');\r\n    } else {\r\n      errorMessage.value = response.error;\r\n    }\r\n  } catch (error) {\r\n    console.error('Login error:', error);\r\n    errorMessage.value = '로그인 중 오류가 발생했습니다.';\r\n  } finally {\r\n    isLoading.value = false;\r\n  }\r\n};\r\n\r\nconst goToRegister = () => {\r\n  router.push('/register');\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.login-container {\r\n  min-height: 100vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n}\r\n\r\n.login-box {\r\n  background: white;\r\n  padding: 40px;\r\n  border-radius: 10px;\r\n  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);\r\n  width: 100%;\r\n  max-width: 400px;\r\n}\r\n\r\nh1 {\r\n  text-align: center;\r\n  color: #333;\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.form-group {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.form-group label {\r\n  display: block;\r\n  margin-bottom: 8px;\r\n  color: #333;\r\n  font-weight: bold;\r\n  font-size: 14px;\r\n}\r\n\r\n.form-group input {\r\n  width: 100%;\r\n  padding: 12px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n  box-sizing: border-box;\r\n  transition: border-color 0.3s;\r\n}\r\n\r\n.form-group input:focus {\r\n  outline: none;\r\n  border-color: #667eea;\r\n}\r\n\r\n.error-message {\r\n  padding: 12px;\r\n  background-color: #ffebee;\r\n  color: #c62828;\r\n  border-radius: 4px;\r\n  margin-bottom: 20px;\r\n  font-size: 14px;\r\n  text-align: center;\r\n}\r\n\r\n.login-btn {\r\n  width: 100%;\r\n  padding: 12px;\r\n  background-color: #667eea;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  cursor: pointer;\r\n  transition: background-color 0.3s;\r\n}\r\n\r\n.login-btn:hover:not(:disabled) {\r\n  background-color: #5568d3;\r\n}\r\n\r\n.login-btn:disabled {\r\n  background-color: #ccc;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.register-link {\r\n  margin-top: 30px;\r\n  text-align: center;\r\n}\r\n\r\n.register-link p {\r\n  color: #666;\r\n  margin-bottom: 10px;\r\n  font-size: 14px;\r\n}\r\n\r\n.register-btn {\r\n  padding: 10px 20px;\r\n  background-color: #f5f5f5;\r\n  color: #333;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  transition: all 0.3s;\r\n}\r\n\r\n.register-btn:hover {\r\n  background-color: #e0e0e0;\r\n}\r\n\r\n.social-login {\r\n  margin-top: 25px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n}\r\n\r\n/* 구분선 */\r\n.divider {\r\n  display: flex;\r\n  align-items: center;\r\n  color: #999;\r\n  font-size: 12px;\r\n  margin-bottom: 10px;\r\n}\r\n.divider::before, .divider::after {\r\n  content: \"\";\r\n  flex: 1;\r\n  height: 1px;\r\n  background: #eee;\r\n}\r\n.divider span {\r\n  padding: 0 10px;\r\n}\r\n\r\n/* 공통 버튼 */\r\n.google-btn, .kakao-btn {\r\n  width: 100%;\r\n  height: 45px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 8px; /* 요즘 스타일인 둥근 사각형 */\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  border: none;\r\n  transition: filter 0.2s;\r\n}\r\n\r\n.google-btn img, .kakao-btn img {\r\n  width: 18px;\r\n  height: 18px;\r\n  margin-right: 10px;\r\n}\r\n\r\n/* 구글 버튼: 화이트 테두리 스타일 */\r\n.google-btn {\r\n  background-color: #ffffff;\r\n  color: #1f1f1f;\r\n  border: 1px solid #dcdcdc;\r\n}\r\n\r\n.google-btn:hover {\r\n  background-color: #f7f8f8;\r\n}\r\n\r\n.kakao-btn-only {\r\n  width: 100%;       /* 부모 너비에 맞춤 */\r\n  height: 48px;     /* 버튼 높이 설정 */\r\n  padding: 0;        /* 안쪽 여백 제거 (중요) */\r\n  border: none;\r\n  border-radius: 6px;\r\n  overflow: hidden;  /* 이미지가 모서리를 넘어가지 않게 */\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background-color: #FEE500; /* 혹시 이미지가 로딩 안될 때를 위한 카카오색 */\r\n}\r\n\r\n.kakao-btn-only img {\r\n  width: 50%;       /* 버튼 너비에 꽉 채움 */\r\n  height: 100%;      /* 버튼 높이에 꽉 채움 */\r\n  object-fit: cover; /* 비율을 유지하면서 버튼 공간을 가득 채움 */\r\n  transition: transform 0.2s;\r\n}\r\n\r\n.kakao-btn-only:hover {\r\n  filter: brightness(0.9); /* 마우스 올렸을 때 살짝 어둡게 효과 */\r\n}\r\n</style>"],"version":3}