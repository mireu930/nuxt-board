import{_ as w,u as g,r as i,x as m,z as t,K as x,L as d,M as c,N as s,aa as k,A as f,J as N,y as b}from"./CJyfR92X.js";import{u as S}from"./BWCIqgjc.js";const V={class:"container"},h={class:"form-group"},M={class:"form-group"},B={class:"form-group"},C={key:0,class:"error-message"},D={class:"button-group"},T=["disabled"],U={__name:"write",setup(q){const p=g(),v=S("user_name"),u=i(v.value||""),o=i({title:"",content:""}),r=i(!1),a=i(""),_=async()=>{if(!r.value){r.value=!0,a.value="";try{const l=await $fetch("/api/board/create",{method:"POST",body:o.value});l.success?(alert("게시물이 등록되었습니다."),p.push("/")):a.value=l.error||"게시물 등록에 실패했습니다."}catch(l){console.error("Submit error:",l),a.value="게시물 등록 중 오류가 발생했습니다."}finally{r.value=!1}}},y=()=>{p.push("/board/list")};return(l,e)=>(b(),m("div",V,[e[6]||(e[6]=t("h1",null,"게시물 작성",-1)),t("form",{onSubmit:N(_,["prevent"]),class:"write-form"},[t("div",h,[e[3]||(e[3]=t("label",{for:"writer"},"작성자 *",-1)),d(t("input",{type:"text",id:"writer","onUpdate:modelValue":e[0]||(e[0]=n=>k(u)?u.value=n:null),disabled:"",class:"disabled-input"},null,512),[[c,s(u)]])]),t("div",M,[e[4]||(e[4]=t("label",{for:"title"},"제목 *",-1)),d(t("input",{type:"text",id:"title","onUpdate:modelValue":e[1]||(e[1]=n=>s(o).title=n),placeholder:"제목을 입력하세요",required:""},null,512),[[c,s(o).title]])]),t("div",B,[e[5]||(e[5]=t("label",{for:"content"},"내용 *",-1)),d(t("textarea",{id:"content","onUpdate:modelValue":e[2]||(e[2]=n=>s(o).content=n),placeholder:"내용을 입력하세요",rows:"15",required:""},null,512),[[c,s(o).content]])]),s(a)?(b(),m("div",C,f(s(a)),1)):x("",!0),t("div",D,[t("button",{type:"submit",class:"submit-btn",disabled:s(r)},f(s(r)?"등록 중...":"등록"),9,T),t("button",{type:"button",onClick:y,class:"cancel-btn"}," 취소 ")])],32)]))}},z=w(U,[["__scopeId","data-v-af71ebd8"]]);export{z as default};
