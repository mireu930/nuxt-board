import{_ as w,u as h,o as x,r as d,x as u,z as o,J as y,K as _,L as p,M as g,N as e,A as c,D as C,y as f}from"./CJyfR92X.js";import{u as M}from"./BWCIqgjc.js";const N={class:"login-container"},D={class:"login-box"},L={class:"form-group"},V={class:"form-group"},K={key:0,class:"error-message"},S=["disabled"],T={__name:"index",setup(q){const m=()=>{window.location.href="/api/auth/google"},v=()=>{window.location.href="/api/auth/kakao"},l=h();x(()=>{M("auth_token").value&&l.push("/board/list")});const r=d({userid:"",password:""}),a=d(!1),i=d(""),b=async()=>{if(!a.value){a.value=!0,i.value="";try{const t=await $fetch("/api/auth/login",{method:"POST",body:r.value});t.success?l.push("/board/list"):i.value=t.error}catch(t){console.error("Login error:",t),i.value="로그인 중 오류가 발생했습니다."}finally{a.value=!1}}},k=()=>{l.push("/register")};return(t,s)=>(f(),u("div",N,[o("div",D,[s[8]||(s[8]=o("h1",null,"로그인",-1)),o("form",{onSubmit:y(b,["prevent"])},[o("div",L,[s[2]||(s[2]=o("label",{for:"userid"},"아이디",-1)),p(o("input",{type:"text",id:"userid","onUpdate:modelValue":s[0]||(s[0]=n=>e(r).userid=n),placeholder:"아이디를 입력하세요",required:""},null,512),[[g,e(r).userid]])]),o("div",V,[s[3]||(s[3]=o("label",{for:"password"},"비밀번호",-1)),p(o("input",{type:"password",id:"password","onUpdate:modelValue":s[1]||(s[1]=n=>e(r).password=n),placeholder:"비밀번호를 입력하세요",required:""},null,512),[[g,e(r).password]])]),e(i)?(f(),u("div",K,c(e(i)),1)):_("",!0),o("button",{type:"submit",class:"login-btn",disabled:e(a)},c(e(a)?"로그인 중...":"로그인"),9,S)],32),o("div",{class:"social-login"},[s[6]||(s[6]=o("div",{class:"divider"},[o("span",null,"또는")],-1)),o("button",{class:"google-btn",onClick:m},[...s[4]||(s[4]=[o("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google"},null,-1),C(" Google 계정으로 로그인 ",-1)])]),o("button",{class:"kakao-btn-only",onClick:v},[...s[5]||(s[5]=[o("img",{src:"https://k.kakaocdn.net/14/dn/btroDszwNrM/I6efHub1SN5KCJqLm1Ovx1/o.jpg",alt:"Kakao 로그인"},null,-1)])])]),o("div",{class:"register-link"},[s[7]||(s[7]=o("p",null,"아직 회원이 아니신가요?",-1)),o("button",{onClick:k,class:"register-btn"}," 회원가입 ")])])]))}},j=w(T,[["__scopeId","data-v-9dd58a31"]]);export{j as default};
